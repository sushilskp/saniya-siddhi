<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aura - Luxury Commerce</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    
    <style>
        /* CSS STYLES START HERE */
        
        :root {
            --primary-color-light: #d4af37; /* Gold */
            --bg-color-light: #fdfdfd;
            --text-color-light: #121212;
            --card-bg-light: #ffffff;
            --footer-bg-light: #f0f0f0;
            --border-color-light: #e0e0e0;

            --primary-color-dark: #e0c56e; /* Lighter Gold for Dark Mode */
            --bg-color-dark: #0a0a0a;
            --text-color-dark: #f5f5f5;
            --card-bg-dark: #1a1a1a;
            --footer-bg-dark: #121212;
            --border-color-dark: #333;
        }

        /* Basic Reset and Setup */
        * { margin: 0; padding: 0; box-sizing: border-box; }
        html { scroll-behavior: smooth; }
        body { font-family: 'Montserrat', sans-serif; transition: background-color 0.4s ease, color 0.4s ease; cursor: none; overflow-x: hidden; background-color: var(--bg-color); color: var(--text-color); }

        body.light-mode {
            --primary-color: var(--primary-color-light); --bg-color: var(--bg-color-light); --text-color: var(--text-color-light); --card-bg: var(--card-bg-light); --footer-bg: var(--footer-bg-light); --border-color: var(--border-color-light);
        }
        body.dark-mode {
            --primary-color: var(--primary-color-dark); --bg-color: var(--bg-color-dark); --text-color: var(--text-color-dark); --card-bg: var(--card-bg-dark); --footer-bg: var(--footer-bg-dark); --border-color: var(--border-color-dark);
        }

        /* Custom Cursor */
        #custom-cursor { position: fixed; width: 20px; height: 20px; border: 2px solid var(--primary-color); border-radius: 50%; pointer-events: none; transform: translate(-50%, -50%); transition: width 0.3s ease, height 0.3s ease, background-color 0.3s ease, transform 0.1s linear; z-index: 9999; }
        #custom-cursor.grow { width: 40px; height: 40px; background-color: rgba(212, 175, 55, 0.3); }
        
        /* General Styles */
        a { text-decoration: none; color: inherit; }
        button, .clickable { cursor: none; }
        .container { max-width: 1300px; margin: 0 auto; padding: 0 20px; }
        
        /* Notification Toast */
        #toast-notification { position: fixed; bottom: 20px; left: 50%; transform: translateX(-50%); background-color: var(--primary-color); color: #000; padding: 12px 25px; border-radius: 30px; z-index: 10001; opacity: 0; visibility: hidden; transition: all 0.4s ease; font-weight: 500; }
        #toast-notification.show { opacity: 1; visibility: visible; bottom: 40px; }

        /* Video Intro Overlay */
        #video-intro-overlay { position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; background-color: #000; z-index: 10000; display: flex; justify-content: center; align-items: center; transition: opacity 1s ease; }
        #intro-video { width: 100%; height: 100%; object-fit: cover; }
        
        /* Header */
        header { position: fixed; top: 0; left: 0; width: 100%; padding: 20px 0; z-index: 1000; transition: all 0.3s ease; background-color: transparent; }
        header.scrolled { background-color: rgba(10, 10, 10, 0.8); backdrop-filter: blur(10px); box-shadow: 0 2px 10px rgba(0,0,0,0.2); }
        .navbar { display: flex; justify-content: space-between; align-items: center; }
        .logo img { height: 40px; transition: opacity 0.3s ease; }
        .light-mode .logo .dark-logo, .dark-mode .logo .light-logo { display: none; }
        .dark-mode .logo .dark-logo, .light-mode .logo .light-logo { display: block; }
        .header-actions { display: flex; align-items: center; gap: 20px; color: #fff; }
        .header-actions button { background: none; border: none; color: inherit; font-size: 20px; padding: 5px; position: relative; }
        .header-actions button.active { color: var(--primary-color); }
        .indicator-count { position: absolute; top: -5px; right: -10px; background-color: var(--primary-color); color: #000; border-radius: 50%; width: 18px; height: 18px; font-size: 12px; display: flex; justify-content: center; align-items: center; font-weight: bold; }
        
        /* Main App Container */
        #app { min-height: 100vh; }
        .page { animation: fadeIn 0.8s ease forwards; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }

        /* Hero Section (Home Page) */
        .hero { height: 100vh; display: flex; align-items: center; justify-content: center; text-align: center; color: #fff; position: relative; }
        #background-video { position: absolute; top: 0; left: 0; width: 100%; height: 100%; object-fit: cover; z-index: -2; }
        .hero-overlay { position: absolute; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.5); z-index: -1; }
        .hero-content { z-index: 1; max-width: 800px; padding: 20px; }
        .hero-content h1 { font-size: 4rem; font-weight: 700; margin-bottom: 20px; text-shadow: 2px 2px 10px rgba(0,0,0,0.5); }
        .hero-content p { font-size: 1.2rem; margin-bottom: 30px; }
        
        /* Products Section on Home Page */
        .home-products-section { padding: 100px 0; }
        .section-title { text-align: center; font-size: 2.5rem; margin-bottom: 50px; font-weight: 300; }
        .category-filters { display: flex; justify-content: center; gap: 15px; flex-wrap: wrap; margin-bottom: 50px; }
        .category-filters button { background: var(--card-bg); color: var(--text-color); border: 1px solid var(--border-color); padding: 10px 20px; border-radius: 20px; font-weight: 500; transition: all 0.3s ease; }
        .category-filters button.active { background: var(--primary-color); color: #000; border-color: var(--primary-color); }
        
        #product-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 40px; }
        .product-card { background-color: var(--card-bg); border-radius: 15px; overflow: hidden; box-shadow: 0 10px 30px rgba(0,0,0,0.05); transition: all 0.3s ease; display: flex; flex-direction: column; }
        .product-card:hover { transform: translateY(-10px); box-shadow: 0 15px 40px rgba(0,0,0,0.1); }
        .product-image-container { position: relative; overflow: hidden; aspect-ratio: 1 / 1; }
        .product-card img { width: 100%; height: 100%; object-fit: cover; transition: transform 0.4s ease; }
        .product-card:hover img { transform: scale(1.05); }
        .product-actions { position: absolute; top: 15px; right: 15px; display: flex; flex-direction: column; gap: 10px; transform: translateX(50px); opacity: 0; transition: all 0.4s ease; }
        .product-card:hover .product-actions { transform: translateX(0); opacity: 1; }
        .product-actions button { background-color: var(--card-bg); border: none; width: 40px; height: 40px; border-radius: 50%; font-size: 18px; color: var(--text-color); display: flex; justify-content: center; align-items: center; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
        .product-actions button.active { color: var(--primary-color); }
        .product-info { padding: 20px; flex-grow: 1; display: flex; flex-direction: column; }
        .product-info h3 { font-size: 1.1rem; font-weight: 500; margin-bottom: 5px; }
        .product-info .category { font-size: 0.8rem; color: #888; margin-bottom: 15px; }
        .product-info .price { font-size: 1.3rem; font-weight: bold; color: var(--primary-color); margin-top: auto; }

        /* General Page Styles for Cart, Wishlist, Product Detail */
        .generic-page { padding: 120px 0 50px; }
        .page-title { font-size: 2.5rem; margin-bottom: 50px; font-weight: 300; text-align: center; }
        .empty-message { text-align: center; font-size: 1.5rem; padding: 50px 0; color: #888; }
        .back-button { display: inline-block; margin-bottom: 40px; font-weight: 500; }
        .back-button i { margin-right: 8px; }
        .back-button:hover { color: var(--primary-color); }

        /* Product Detail Page */
        .product-detail-container { display: grid; grid-template-columns: 1fr 1fr; gap: 50px; align-items: flex-start; }
        .product-detail-image img { width: 100%; border-radius: 20px; }
        .product-detail-info .category { font-size: 1rem; color: #888; margin-bottom: 10px; text-transform: uppercase; letter-spacing: 1px; }
        .product-detail-info h1 { font-size: 2.8rem; margin-bottom: 20px; }
        .product-detail-info .price { font-size: 2.2rem; color: var(--primary-color); margin-bottom: 30px; }
        .product-detail-info .description { line-height: 1.7; margin-bottom: 30px; }
        .detail-actions { display: flex; gap: 15px; align-items: center; margin-top: 30px; }
        .detail-actions .add-to-cart-main-btn { padding: 15px 30px; font-size: 1rem; font-weight: bold; border: none; border-radius: 10px; background-color: var(--primary-color); color: #000; flex-grow: 1; }
        .detail-actions .add-to-wishlist-btn { background-color: var(--card-bg); color: var(--text-color); border: 1px solid var(--border-color); width: 50px; height: 50px; font-size: 20px; border-radius: 10px; }
        .quantity-selector { display: flex; align-items: center; gap: 10px; }
        .quantity-selector button { width: 40px; height: 40px; border: 1px solid var(--border-color); background: var(--card-bg); border-radius: 5px; font-size: 1.2rem; }
        .quantity-selector span { font-size: 1.2rem; font-weight: bold; min-width: 30px; text-align: center; }

        /* Cart & Wishlist Pages */
        .cart-item, .wishlist-item { display: flex; align-items: center; gap: 20px; padding: 20px 0; border-bottom: 1px solid var(--border-color); }
        .cart-item img, .wishlist-item img { width: 100px; height: 100px; object-fit: cover; border-radius: 10px; }
        .item-details { flex-grow: 1; }
        .item-details h3 { font-size: 1.2rem; }
        .item-price { font-size: 1.1rem; font-weight: 500; }
        .cart-summary { margin-top: 40px; padding: 30px; background: var(--card-bg); border-radius: 15px; border: 1px solid var(--border-color); }
        .cart-summary h2 { margin-bottom: 20px; }
        .summary-row { display: flex; justify-content: space-between; margin-bottom: 15px; font-size: 1.1rem; }
        #cart-total { font-weight: bold; font-size: 1.3rem; }
        .checkout-btn { display: block; width: 100%; padding: 15px; background: var(--primary-color); color: #000; border: none; border-radius: 10px; text-align: center; font-size: 1.2rem; font-weight: bold; margin-top: 20px; }

        /* Footer */
        footer { background-color: var(--footer-bg); padding: 60px 0; }
        /* (Footer styles remain the same) */
        .footer-container { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 40px; }
        .footer-column h4 { font-size: 1.2rem; margin-bottom: 20px; }
        .footer-column ul { list-style: none; }
        .footer-column ul li { margin-bottom: 10px; }
        .footer-column a:hover { color: var(--primary-color); }
        .footer-bottom { text-align: center; margin-top: 40px; padding-top: 20px; border-top: 1px solid var(--border-color); }

        @media (max-width: 768px) {
            .hero-content h1 { font-size: 2.5rem; }
            .product-detail-container { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body class="dark-mode">

    <div id="custom-cursor"></div>
    <div id="video-intro-overlay">
        <video id="intro-video" src="BG.mp4" autoplay muted playsinline></video>
    </div>
    <div id="toast-notification"></div>

    <header id="main-header">
        <div class="container navbar">
            <a href="#" class="logo clickable" data-page="home">
                <img src="images/logo-light.png" alt="Aura Logo" class="light-logo">
                <img src="images/logo-dark.png" alt="Aura Logo" class="dark-logo">
            </a>
            <div class="header-actions">
                <button id="theme-toggle-btn" title="Toggle Theme" class="clickable"><i class="fa-solid fa-palette"></i></button>
                <button id="wishlist-btn" title="Wishlist" class="clickable" data-page="wishlist">
                    <i class="fa-solid fa-heart"></i>
                    <span id="wishlist-count" class="indicator-count">0</span>
                </button>
                <button id="cart-btn" title="Cart" class="clickable" data-page="cart">
                    <i class="fa-solid fa-cart-shopping"></i>
                    <span id="cart-count" class="indicator-count">0</span>
                </button>
                <button id="login-btn" title="Login" class="clickable"><i class="fa-solid fa-user"></i></button>
            </div>
        </div>
    </header>

    <main id="app"></main>
    
    <footer>
        <div class="container footer-container">
            <div class="footer-column"><h4>About Aura</h4><p>Experience luxury redefined. Curated collections for the discerning individual.</p></div>
            <div class="footer-column"><h4>Shop</h4><ul><li><a href="#">Electronics</a></li><li><a href="#">Fashion</a></li><li><a href="#">Home</a></li><li><a href="#">Jewelry</a></li></ul></div>
            <div class="footer-column"><h4>Support</h4><ul><li><a href="#">Contact Us</a></li><li><a href="#">Track Order</a></li><li><a href="#">Returns</a></li><li><a href="#">FAQ</a></li></ul></div>
            <div class="footer-column"><h4>Follow Us</h4><ul><li><a href="#">Instagram</a></li><li><a href="#">Facebook</a></li><li><a href="#">Twitter</a></li></ul></div>
        </div>
        <div class="footer-bottom"><p>&copy; 2025 Aura by Saniya & Siddhi. All Rights Reserved.</p></div>
    </footer>


    <script>
    document.addEventListener('DOMContentLoaded', () => {
        
        // --- DATABASE: PRODUCTS ---
        const products = [
            { id: 1, name: 'Quantum Noise-Cancelling Headphones', category: 'Electronics', price: 349.99, description: 'Immerse yourself in pure sound with industry-leading noise cancellation and high-resolution audio. Perfect for travel, work, and uninterrupted listening pleasure.', image: 'Quantum Noise-Cancelling Headphones.jpg' },
            { id: 2, name: 'Silk Blend Evening Gown', category: 'Fashion', price: 799.00, description: 'A stunning floor-length gown crafted from the finest silk blend, featuring intricate beadwork and a flattering silhouette. Make a statement at any formal occasion.', image: 'Silk Blend Evening Gown.jpg' },
            { id: 3, name: 'Artisan Marble Coffee Table', category: 'Home', price: 1250.00, description: 'Hand-carved from a single block of Italian Carrara marble. A true centerpiece for your living space with minimalist metal legs.', image: 'Artisan Marble Coffee Table.jpg' },
            { id: 4, name: 'Sapphire & Diamond Pendant', category: 'Jewelry', price: 2100.50, description: 'A breathtaking deep blue sapphire surrounded by a halo of brilliant-cut diamonds on a platinum chain. A timeless piece of elegance.', image: 'Sapphire & Diamond Pendant.jpg' },
            { id: 5, name: 'Chronograph Sports Watch', category: 'Watches', price: 1850.00, description: 'Swiss-made automatic movement with a durable titanium case, sapphire crystal, and a 48-hour power reserve.', image: 'Chronograph Sports Watch.jpg' },
            { id: 6, name: 'Minimalist Leather Tote', category: 'Accessories', price: 450.00, description: 'Crafted from full-grain Italian leather, this tote combines style and functionality effortlessly. Includes a detachable inner pouch.', image: 'Minimalist Leather Tote.jpg' },
            { id: 7, name: '4K OLED Smart TV 65"', category: 'Electronics', price: 2200.00, description: 'Experience perfect blacks and infinite contrast with self-lit pixels. A cinematic experience at home with Dolby Vision and Atmos.', image: '4K OLED Smart TV 65.jpg' },
            { id: 8, name: 'Designer Suede Loafers', category: 'Fashion', price: 620.00, description: 'Hand-stitched suede loafers that offer unparalleled comfort and timeless style, featuring a classic horsebit detail.', image: 'Designer Suede Loafers.jpg' },
        ];
        const categories = ['All', ...new Set(products.map(p => p.category))];

        // --- STATE MANAGEMENT ---
        let cart = JSON.parse(localStorage.getItem('auraCart')) || [];
        let wishlist = JSON.parse(localStorage.getItem('auraWishlist')) || [];
        let currentCategoryFilter = 'All';
        
        // --- DOM ELEMENTS ---
        const app = document.getElementById('app');
        const header = document.getElementById('main-header');
        const introOverlay = document.getElementById('video-intro-overlay');
        const introVideo = document.getElementById('intro-video');
        const cursor = document.getElementById('custom-cursor');
        const toast = document.getElementById('toast-notification');

        // --- INITIALIZATION ---
        const init = () => {
            const savedTheme = localStorage.getItem('auraTheme') || 'dark-mode';
            document.body.className = savedTheme;
            
            navigateTo('home');
            updateCounts();
            setupEventListeners();
        };

        // --- EVENT LISTENERS SETUP ---
        function setupEventListeners() {
            introVideo.addEventListener('ended', hideIntro);
            introOverlay.addEventListener('click', hideIntro);
            window.addEventListener('scroll', handleScroll);
            window.addEventListener('mousemove', e => {
                cursor.style.top = e.clientY + 'px';
                cursor.style.left = e.clientX + 'px';
            });
            document.body.addEventListener('click', handleGlobalClick);
        }

        function handleGlobalClick(e) {
            const target = e.target;
            const productActionBtn = target.closest('.add-to-cart-btn, .add-to-wishlist-btn, .add-to-cart-main-btn');
            const navLink = target.closest('[data-page]');
            const categoryBtn = target.closest('[data-category]');
            const productCard = target.closest('.product-card');
            const cartActionBtn = target.closest('[data-cart-action]');

            // Highest priority: Specific actions on products (cart/wishlist)
            if (productActionBtn) {
                if (productActionBtn.classList.contains('add-to-cart-btn')) {
                    addToCart(productActionBtn.dataset.productId, 1);
                } else if (productActionBtn.classList.contains('add-to-cart-main-btn')) {
                    const quantity = parseInt(document.getElementById('quantity-input')?.value || 1);
                    addToCart(productActionBtn.dataset.productId, quantity);
                } else if (productActionBtn.classList.contains('add-to-wishlist-btn')) {
                    toggleWishlist(productActionBtn.dataset.productId);
                }
                return;
            }

            // Navigation clicks
            if (navLink) {
                e.preventDefault();
                navigateTo(navLink.dataset.page);
                return;
            }
            
            // Category filter clicks
            if (categoryBtn) {
                currentCategoryFilter = categoryBtn.dataset.category;
                renderProductGrid(); // ONLY re-render the grid, not the whole page
                document.querySelectorAll('.category-filters button').forEach(b => b.classList.remove('active'));
                categoryBtn.classList.add('active');
                return;
            }

            // Cart quantity/remove clicks
            if (cartActionBtn) {
                const { cartAction, productId } = cartActionBtn.dataset;
                if (cartAction === 'remove') removeFromCart(productId);
                if (cartAction === 'increase') updateCartQuantity(productId, 1);
                if (cartAction === 'decrease') updateCartQuantity(productId, -1);
                return;
            }

            // Click on a product card (lowest priority)
            if (productCard) {
                navigateTo('product-detail', { productId: productCard.dataset.productId });
                return;
            }

            // Theme toggle (can be placed anywhere)
            if (target.closest('#theme-toggle-btn')) toggleTheme();
        }

        // --- CORE FUNCTIONS ---
        const hideIntro = () => {
            introOverlay.style.opacity = '0';
            setTimeout(() => introOverlay.style.display = 'none', 1000);
        };
        const handleScroll = () => header.classList.toggle('scrolled', window.scrollY > 50);
        const toggleTheme = () => {
            document.body.classList.toggle('light-mode');
            document.body.classList.toggle('dark-mode');
            localStorage.setItem('auraTheme', document.body.className);
        };
        const showToast = (message) => {
            toast.textContent = message;
            toast.classList.add('show');
            setTimeout(() => toast.classList.remove('show'), 3000);
        };
        const updateCounts = () => {
            document.getElementById('cart-count').textContent = cart.reduce((sum, item) => sum + item.quantity, 0);
            document.getElementById('wishlist-count').textContent = wishlist.length;
        };
        const updateHeaderActiveState = (page) => {
            document.querySelectorAll('.header-actions button').forEach(b => b.classList.remove('active'));
            if (page === 'cart') document.getElementById('cart-btn').classList.add('active');
            if (page === 'wishlist') document.getElementById('wishlist-btn').classList.add('active');
        };

        // --- CART LOGIC ---
        function addToCart(productId, quantity) {
            const product = products.find(p => p.id == productId);
            const cartItem = cart.find(item => item.id == productId);
            if (cartItem) {
                cartItem.quantity += quantity;
            } else {
                cart.push({ ...product, quantity: quantity });
            }
            localStorage.setItem('auraCart', JSON.stringify(cart));
            updateCounts();
            showToast(`${quantity}x ${product.name} added to cart!`);
        }
        function removeFromCart(productId) {
            cart = cart.filter(item => item.id != productId);
            localStorage.setItem('auraCart', JSON.stringify(cart));
            updateCounts();
            navigateTo('cart');
        }
        function updateCartQuantity(productId, change) {
            const cartItem = cart.find(item => item.id == productId);
            if (cartItem) {
                cartItem.quantity += change;
                if (cartItem.quantity <= 0) {
                    removeFromCart(productId);
                } else {
                    localStorage.setItem('auraCart', JSON.stringify(cart));
                    updateCounts();
                    navigateTo('cart');
                }
            }
        }
        
        // --- WISHLIST LOGIC ---
        function toggleWishlist(productId) {
            const productIndex = wishlist.findIndex(pId => pId == productId);
            const product = products.find(p => p.id == productId);
            if (productIndex > -1) {
                wishlist.splice(productIndex, 1);
                showToast(`${product.name} removed from wishlist.`);
            } else {
                wishlist.push(String(productId));
                showToast(`${product.name} added to wishlist!`);
            }
            localStorage.setItem('auraWishlist', JSON.stringify(wishlist));
            updateCounts();
            
            const currentPage = app.querySelector('.page')?.dataset.pageName || 'home';
            if (currentPage === 'home') renderProductGrid();
            if (currentPage === 'wishlist') navigateTo('wishlist');
            if (currentPage === 'product-detail') {
                const btn = document.querySelector('.add-to-wishlist-btn');
                btn?.classList.toggle('active', wishlist.includes(String(productId)));
            }
        }
        
        // --- PAGE ROUTING & RENDERING ---
        const navigateTo = (page, params = {}) => {
            app.innerHTML = ''; 
            window.scrollTo(0, 0);
            updateHeaderActiveState(page);
            let pageElement;
            switch(page) {
                case 'home': pageElement = renderHomePage(); break;
                case 'cart': pageElement = renderCartPage(); break;
                case 'wishlist': pageElement = renderWishlistPage(); break;
                case 'product-detail': pageElement = renderProductDetailPage(params.productId); break;
                default: pageElement = renderHomePage();
            }
            app.appendChild(pageElement);
        };

        function renderHomePage() {
            const page = document.createElement('div');
            page.id = 'home-page';
            page.className = 'page';
            page.dataset.pageName = 'home';
            
            page.innerHTML = `
                <section class="hero">
                    <video id="background-video" src="BG.mp4" autoplay loop muted playsinline></video>
                    <div class="hero-overlay"></div>
                    <div class="hero-content">
                        <h1>Aura: Luxury Redefined</h1>
                        <p>Discover curated collections of elegance and innovation.</p>
                    </div>
                </section>
                <section class="home-products-section container">
                    <div class="category-filters">
                        ${categories.map(cat => `<button class="clickable ${cat === currentCategoryFilter ? 'active' : ''}" data-category="${cat}">${cat}</button>`).join('')}
                    </div>
                    <div id="product-grid-container"></div>
                </section>
            `;
            // Crucially, render the grid AFTER the main structure is in the DOM
            setTimeout(() => renderProductGrid(), 0);
            return page;
        }

        function renderProductGrid() {
            const container = document.getElementById('product-grid-container');
            if (!container) return; // Safety check
            const filteredProducts = currentCategoryFilter === 'All' ? products : products.filter(p => p.category === currentCategoryFilter);
            
            container.innerHTML = `
                <div id="product-grid" class="page">
                    ${filteredProducts.map(prod => `
                        <div class="product-card clickable" data-product-id="${prod.id}">
                            <div class="product-image-container">
                                <img src="${prod.image}" alt="${prod.name}">
                                <div class="product-actions">
                                    <button class="add-to-cart-btn clickable" data-product-id="${prod.id}" title="Add to Cart"><i class="fa-solid fa-cart-plus"></i></button>
                                    <button class="add-to-wishlist-btn clickable ${wishlist.includes(String(prod.id)) ? 'active' : ''}" data-product-id="${prod.id}" title="Add to Wishlist"><i class="fa-solid fa-heart"></i></button>
                                </div>
                            </div>
                            <div class="product-info">
                                <span class="category">${prod.category}</span>
                                <h3>${prod.name}</h3>
                                <p class="price">$${prod.price.toFixed(2)}</p>
                            </div>
                        </div>
                    `).join('')}
                </div>`;
        }

        function renderProductDetailPage(productId) {
            const product = products.find(p => p.id == productId);
            const page = document.createElement('div');
            page.className = 'page container generic-page';
            page.dataset.pageName = 'product-detail';
            if (!product) {
                page.innerHTML = `<h1 class="page-title">Product Not Found</h1>`;
                return page;
            }
            
            page.innerHTML = `
                <a href="#" data-page="home" class="back-button clickable"><i class="fa-solid fa-arrow-left"></i> Back to Products</a>
                <div class="product-detail-container">
                    <div class="product-detail-image"><img src="${product.image}" alt="${product.name}"></div>
                    <div class="product-detail-info">
                        <p class="category">${product.category}</p>
                        <h1>${product.name}</h1>
                        <p class="price">$${product.price.toFixed(2)}</p>
                        <p class="description">${product.description}</p>
                        <div class="detail-actions">
                            <div class="quantity-selector">
                                <button class="clickable" onclick="this.nextElementSibling.stepDown()">-</button>
                                <input id="quantity-input" type="number" value="1" min="1" max="10" readonly style="width: 40px; text-align: center; border:none; background:transparent; color: var(--text-color); font-size:1.2rem;">
                                <button class="clickable" onclick="this.previousElementSibling.stepUp()">+</button>
                            </div>
                            <button class="add-to-cart-main-btn clickable" data-product-id="${product.id}">Add to Cart</button>
                            <button class="add-to-wishlist-btn clickable ${wishlist.includes(String(product.id)) ? 'active' : ''}" data-product-id="${product.id}" title="Add to Wishlist"><i class="fa-solid fa-heart"></i></button>
                        </div>
                    </div>
                </div>
            `;
            return page;
        }
        
        function renderCartPage() {
            const page = document.createElement('div');
            page.className = 'page container generic-page';
            page.dataset.pageName = 'cart';
            
            if (cart.length === 0) {
                page.innerHTML = `<h1 class="page-title">Your Cart</h1><p class="empty-message">Your shopping cart is empty.</p>`;
                return page;
            }

            const subtotal = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
            const tax = subtotal * 0.1;
            const total = subtotal + tax;

            page.innerHTML = `
                <h1 class="page-title">Your Cart</h1>
                <div id="cart-items">
                    ${cart.map(item => `
                        <div class="cart-item">
                            <img src="${item.image}" alt="${item.name}">
                            <div class="item-details"><h3>${item.name}</h3><p class="item-price">$${(item.price * item.quantity).toFixed(2)}</p></div>
                            <div class="quantity-selector">
                                <button class="clickable" data-cart-action="decrease" data-product-id="${item.id}">-</button>
                                <span>${item.quantity}</span>
                                <button class="clickable" data-cart-action="increase" data-product-id="${item.id}">+</button>
                            </div>
                            <button class="clickable" data-cart-action="remove" data-product-id="${item.id}" title="Remove Item"><i class="fa-solid fa-trash"></i></button>
                        </div>
                    `).join('')}
                </div>
                <div class="cart-summary">
                    <h2>Order Summary</h2>
                    <div class="summary-row"><span>Subtotal</span><span>$${subtotal.toFixed(2)}</span></div>
                    <div class="summary-row"><span>Tax (10%)</span><span>$${tax.toFixed(2)}</span></div>
                    <div class="summary-row" id="cart-total"><span>Total</span><span>$${total.toFixed(2)}</span></div>
                    <a href="#" class="checkout-btn clickable">Proceed to Checkout (Simulated)</a>
                </div>
            `;
            return page;
        }

        function renderWishlistPage() {
            const page = document.createElement('div');
            page.className = 'page container generic-page';
            page.dataset.pageName = 'wishlist';

            if (wishlist.length === 0) {
                page.innerHTML = `<h1 class="page-title">Your Wishlist</h1><p class="empty-message">Your wishlist is empty.</p>`;
                return page;
            }
            
            const wishlistProducts = products.filter(p => wishlist.includes(String(p.id)));

            page.innerHTML = `
                <h1 class="page-title">Your Wishlist</h1>
                <div id="wishlist-items">
                    ${wishlistProducts.map(item => `
                        <div class="wishlist-item">
                            <img src="${item.image}" alt="${item.name}">
                            <div class="item-details"><h3>${item.name}</h3><p class="item-price">$${item.price.toFixed(2)}</p></div>
                            <button class="add-to-cart-btn clickable" data-product-id="${item.id}">Add to Cart</button>
                            <button class="add-to-wishlist-btn clickable" data-product-id="${item.id}" title="Remove from Wishlist"><i class="fa-solid fa-xmark"></i></button>
                        </div>
                    `).join('')}
                </div>
            `;
            return page;
        }
        
        init(); // Start the application
    });
    </script>
</body>
</html>